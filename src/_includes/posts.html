---
layout: default
---

<section class="post">
    <div>
        <h1>{{title}}</h1>
        <p>
            <time> {{ date | readableDate }}
                by
                <a>{{ author }}</a>
            </time>
        </p>

    </div>
    <article>
        {{ content | safe }}
    </article>

</section>

{# 1. Get the collection #}
{% set currentCollection = collections["posts_" + lang] %}

{# 2. Manually find the current post index in the list #}
{% set nextPost = null %}
{% set prevPost = null %}

{% for post in currentCollection %}
  {% if post.url == page.url %}
    {# We found the current post! #}
    
    {# The post BEFORE this one in the list (Previous) #}
    {% if loop.index0 > 0 %}
      {% set prevPost = currentCollection[loop.index0 - 1] %}
    {% endif %}

    {# The post AFTER this one in the list (Next) #}
    {% if not loop.last %}
      {% set nextPost = currentCollection[loop.index0 + 1] %}
    {% endif %}
    
  {% endif %}
{% endfor %}


{# 3. Render the Links #}
<hr />
<nav class="post-navigation" aria-label="Post Navigation">
  
  <div class="nav-prev">
    {% if prevPost %}
      <a href="{{ prevPost.url }}">
        <span class="nav-label">{{ 'previous_post' | t }}</span><br>
        <span class="nav-title">{{ prevPost.data.title }}</span>
      </a>
    {% endif %}
  </div>

  <div class="nav-next">
    {% if nextPost %}
      <a href="{{ nextPost.url }}">
        <span class="nav-label">{{ 'next_post' | t }}</span><br>
        <span class="nav-title">{{ nextPost.data.title }}</span>
      </a>
    {% endif %}
  </div>

</nav>
