---
layout: default
---

<section class="post">
    <div>
      <div class="h4">{{ page.date | readableDate(lang) }}</div>

        <h1>{{title}}</h1>

    </div>
    <article>
        {{ content | safe }}
    </article>
    
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const codeBlocks = document.querySelectorAll('pre');
      
        codeBlocks.forEach(block => {
          // 1. Create the wrapper div
          const wrapper = document.createElement('div');
          wrapper.className = 'code-wrapper';
      
          // 2. Insert wrapper before the code block
          block.parentNode.insertBefore(wrapper, block);
      
          // 3. Move the code block INSIDE the wrapper
          wrapper.appendChild(block);
      
          // 4. Create the button
          const button = document.createElement('button');
          button.className = 'copy-code-button';
          button.innerText = 'Copy';
      
          // 5. Button Logic
          button.addEventListener('click', () => {
            const code = block.querySelector('code');
            const text = code ? code.innerText : block.innerText;
      
            navigator.clipboard.writeText(text).then(() => {
              button.innerText = 'Copied!';
              button.classList.add('copied');
              setTimeout(() => {
                button.innerText = 'Copy';
                button.classList.remove('copied');
              }, 2000);
            });
          });
      
          // 6. Add button to wrapper (It is now a sibling of 'pre')
          wrapper.appendChild(button);
        });
      });
    </script>

{% set currentCollection = collections["posts_" + lang] %}
{% set nextPost = null %}
{% set prevPost = null %}
{% for post in currentCollection %}
  {% if post.url == page.url %}    
    {% if loop.index0 > 0 %}
      {% set prevPost = currentCollection[loop.index0 - 1] %}
    {% endif %}
    {% if not loop.last %}
      {% set nextPost = currentCollection[loop.index0 + 1] %}
    {% endif %}
  {% endif %}
{% endfor %}

<div class="post-tags">
  <strong>Tags:</strong>  
  {% for tag in tags %}    
    {% if tag != "post" %}
      <a href="/{{ lang }}/tags/{{ tag | slugify }}/" class="tag-link">#{{ tag }}</a>
    {% endif %}
  {% endfor %}
</div>
    
<hr />
    
<nav class="post-navigation" aria-label="Post Navigation">
  
  <div class="nav-prev">
    {% if prevPost %}
      <a href="{{ prevPost.url }}">
        <span class="nav-label">{{ 'previous_post' | t }}</span><br>
        <span class="nav-title">{{ prevPost.data.title }}</span>
      </a>
    {% endif %}
  </div>

  <div class="nav-next">
    {% if nextPost %}
      <a href="{{ nextPost.url }}">
        <span class="nav-label">{{ 'next_post' | t }}</span><br>
        <span class="nav-title">{{ nextPost.data.title }}</span>
      </a>
    {% endif %}
  </div>

</nav>
</section>
